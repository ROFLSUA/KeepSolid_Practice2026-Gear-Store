<!DOCTYPE html>
<html lang="uk">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Категорія | GEAR</title>

<style>
body{
  margin:0;
  font-family:"Segoe UI",Arial;
  background:#0b0b0b;
  color:#ffd700;
}

.header{
  padding:18px 24px;
  background:#000;
  border-bottom:1px solid #2a2a2a;
}

.header a{
  color:#ffd700;
  text-decoration:none;
  font-size:22px;
  font-weight:800;
}

.container{
  max-width:1400px;
  margin:0 auto;
  padding:24px;
}

h1{
  margin-bottom:20px;
  letter-spacing:2px;
}

.grid{
  display:grid;
  grid-template-columns:repeat(auto-fill,minmax(220px,1fr));
  gap:16px;
}

.game-card{
  background:#111;
  border:1px solid #2a2a2a;
  cursor:pointer;
  transition:.2s;
  position:relative;
}

.game-card:hover{
  border-color:#ffd700;
  transform:translateY(-3px);
}

.game-img{
  height:140px;
  background-size:cover;
  background-position:center;
}

.game-body{
  padding:10px;
}

.game-title{
  font-size:14px;
  margin-bottom:6px;
}

.game-price{
  font-weight:800;
}

.discount-badge{
  position:absolute;
  top:8px;
  left:8px;
  background:#3fae49;
  color:#000;
  font-weight:900;
  font-size:12px;
  padding:4px 8px;
  border-radius:2px;
}

.old-price{
  text-decoration:line-through;
  color:#777;
  font-size:12px;
  margin-right:6px;
}

.new-price{
  color:#ffd700;
  font-weight:900;
}
</style>
</head>

<body>

<div class="header">
  <a href="index.html">← Магазин</a>
</div>

<div class="container">
  <h1 id="title"></h1>
  <div class="grid" id="games"></div>
</div>

<script>
  
if(!sessionStorage.getItem("gear_discounts")){
  window.location.href = "Index.html";
}
  
const GAME_GENRES = {

  Frostpunk: ["Стратегії", "Виживання"],

  stalker2: ["Пригоди", "Хоррор", "Сюжет", "Виживання"],

  batman: ["Бойовики", "Сюжет", "Пригоди"],

  ARCRaiders: ["Бойовики", "Онлайн", "Пригоди"],

  expedition33: ["Рольові ігри", "Пригоди", "Сюжет"],

  witcher: ["Рольові ігри", "Пригоди", "Сюжет"],

  balatro: ["Інді", "Стратегії", "Аркади"],

  SlaytheSpire: ["Інді", "Стратегії"],

  METALGEARSOLIDΔ: ["Бойовики", "Сюжет"],

  HELLDIVERS: ["Бойовики", "Онлайн", "Пригоди"],

  Jackbox: ["Інді", "Онлайн", "Рольові ігри", "Аркади", "Стратегії"],

  Cyberpunk: ["Рольові ігри", "Пригоди", "Сюжет", "Бойовики"],

  StreetFighter: ["Аркади", "Бойовики"],

  UntilDawn: ["Хоррор", "Сюжет"],

  TheQuarry: ["Хоррор", "Сюжет"],

  Hades: ["Рольові ігри", "Інді", "Аркади", "Бойовики"],

  Rimworld: ["Стратегії", "Виживання", "Інді"],

  Far: ["Пригоди", "Інді", "Сюжет"],

  Teardown: ["Стратегії", "Бойовики", "Інді", "Пригоди"],

  Darktide: ["Бойовики", "Пригоди", "Рольові ігри", "Онлайн"],

  Cult: ["Інді", "Бойовики", "Стратегії", "Пригоди"],

  Warframe: ["Бойовики", "Рольові ігри", "Онлайн"],

  Rust: ["Бойовики", "Виживання", "Пригоди", "Онлайн"],

  RainbowSixSiegeX: ["Бойовики", "Онлайн"],

  DeadCells: ["Інді", "Аркади", "Пригоди", "Бойовики"],

  wot: ["Онлайн", "Бойовики"],

  Broforce: ["Аркади", "Пригоди", "Інді", "Бойовики"],

  ReadyOrNot: ["Бойовики", "Онлайн"],

  MonsterTrain2: ["Стратегії", "Інді"],

  DarkestDungeonII: ["Рольові ігри", "Інді", "Стратегії", "Хоррор"]

};

const GAME_DATA = {

  Frostpunk:{
    title:"Frostpunk 2",
    price:"840₴",
    cover:"https://shared.fastly.steamstatic.com/store_item_assets/steam/apps/1601580/header.jpg"
  },

  stalker2:{
    title:"S.T.A.L.K.E.R. 2: Heart of Chornobyl",
    price:"1400₴",
    cover:"https://shared.fastly.steamstatic.com/store_item_assets/steam/apps/1643320/capsule_616x353.jpg"
  },

  batman:{
    title:"Batman™: Arkham Knight",
    price:"279₴",
    cover:"https://gaming-cdn.com/images/products/2419/orig/batman-arkham-knight-pc-game-steam-cover.jpg"
  },

  ARCRaiders:{
    title:"ARC Raiders",
    price:"1160₴",
    cover:"https://shared.fastly.steamstatic.com/store_item_assets/steam/apps/1808500/b26e2a315d32ef462a07cf0e36eb06a2b810d0c9/header_alt_assets_0.jpg?t=1768418746"
  },

  expedition33:{
    title:"Clair Obscur: Expedition 33",
    price:"1500₴",
    cover:"https://shared.akamai.steamstatic.com/store_item_assets/steam/apps/1903340/header.jpg"
  },

  witcher:{
    title:"The Witcher 3: Wild Hunt",
    price:"950₴",
    cover:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRGsSebN6FMqkqYOmJch68Xu-VP4KbfXvC-Iw&s"
  },

  balatro:{
    title:"Balatro",
    price:"325₴",
    cover:"https://media.forgecdn.net/game-box-art/89089_845c4909-c468-4dc2-b0ed-d9851795fb6c.png"
  },

  SlaytheSpire:{
    title:"Slay the Spire",
    price:"500₴",
    cover:"https://shared.akamai.steamstatic.com/store_item_assets/steam/apps/646570/header.jpg"
  },

  METALGEARSOLIDΔ:{
    title:"METAL GEAR SOLID Δ: SNAKE EATER",
    price:"1475₴",
    cover:"https://external-preview.redd.it/metal-gear-solid-delta-snake-eater-marks-strong-debut-with-v0-OqhPRHZfKG7H7ov9SaFsCPcdsxGIz8Y9hos5nKvp8po.jpeg?width=640&crop=smart&auto=webp&s=a3a05a62b617f2a7fd656d43d73fef224a051818"
  },

  HELLDIVERS:{
    title:"HELLDIVERS 2",
    price:"1200₴",
    cover:"https://shared.fastly.steamstatic.com/store_item_assets/steam/apps/553850/14293cf6c4eeb6959b9333ecd42fcc021a8fc1e3/header.jpg?t=1767634300"
  },

  Jackbox:{
    title:"The Jackbox Party Pack 11",
    price:"600₴",
    cover:"https://dezdoes.com/wp-content/uploads/2025/09/1920x1080-2.png"
  },

  Cyberpunk:{
    title:"Cyberpunk 2077",
    price:"1400₴",
    cover:"https://shared.fastly.steamstatic.com/store_item_assets/steam/apps/1091500/header.jpg"
  },

  StreetFighter:{
    title:"Street Fighter 6",
    price:"1200₴",
    cover:"https://shared.akamai.steamstatic.com/store_item_assets/steam/apps/1364780/header.jpg"
  },

  UntilDawn:{
    title:"Until Dawn",
    price:"2000₴",
    cover:"https://shared.fastly.steamstatic.com/store_item_assets/steam/apps/2172010/header.jpg"
  },

  TheQuarry:{
    title:"The Quarry",
    price:"1500₴",
    cover:"https://shared.fastly.steamstatic.com/store_item_assets/steam/apps/1577120/capsule_616x353.jpg"
  },

  Hades:{
    title:"Hades II",
    price:"460₴",
    cover:"https://www.memorypc.fr/media/8e/b3/69/1726134580/hades-2.png"
  },

  Rimworld:{
    title:"RimWorld",
    price:"470₴",
    cover:"https://cdn1.epicgames.com/offer/7051eadbb8c2435caf32a9bc0dc17936/rimworldwide_2560x1440-410a62ec21d44260409182e1174cce2e"
  },

  Far:{
    title:"FAR: Lone Sails",
    price:"230₴",
    cover:"https://image.api.playstation.com/cdn/EP3037/CUSA12901_00/FA3iQhzAIGQZSMOJbKk5IGkBVIx5G55c.png"
  },

  Teardown:{
    title:"Teardown",
    price:"650₴",
    cover:"https://shared.fastly.steamstatic.com/store_item_assets/steam/apps/1167630/header.jpg"
  },

  Darktide:{
    title:"Warhammer 40,000: Darktide",
    price:"760₴",
    cover:"https://shared.fastly.steamstatic.com/store_item_assets/steam/apps/1361210/header.jpg"
  },

  Cult:{
    title:"Cult of the Lamb",
    price:"500₴",
    cover:"https://upload.wikimedia.org/wikipedia/en/d/d4/Cult_of_the_Lamb_Key_Art.png"
  },

  Warframe:{
    title:"Warframe",
    price:"Безкоштовно",
    cover:"https://shared.akamai.steamstatic.com/store_item_assets/steam/apps/230410/64cb9deaae9055003fd76ba0f6df6b6fba38e808/header.jpg?t=1765508208"
  },

  Rust:{
    title:"Rust",
    price:"700₴",
    cover:"https://shared.fastly.steamstatic.com/store_item_assets/steam/apps/252490/header.jpg"
  },

  RainbowSixSiegeX:{
    title:"Tom Clancy's Rainbow Six Siege X",
    price:"Безкоштовно",
    cover:"https://shared.fastly.steamstatic.com/store_item_assets/steam/apps/359550/dc3570350a99ecc4dd77f83fad47787f7eca89f7/header.jpg?t=1766176190"
  },

  DeadCells:{
    title:"Dead Cells",
    price:"330₴",
    cover:"https://shared.fastly.steamstatic.com/store_item_assets/steam/apps/588650/header.jpg"
  },

  wot:{
    title:"World of Tanks",
    price:"Безкоштовно",
    cover:"https://gfn.am/en/games/media/images/wide_art_image-world-of-tanks-618565e2.original.jpg"
  },

  Broforce:{
    title:"Broforce",
    price:"325₴",
    cover:"https://shared.akamai.steamstatic.com/store_item_assets/steam/apps/274190/header.jpg"
  },

  ReadyOrNot:{
    title:"Ready or Not",
    price:"625₴",
    cover:"https://shared.akamai.steamstatic.com/store_item_assets/steam/apps/1144200/header.jpg"
  },

  MonsterTrain2:{
    title:"Monster Train 2",
    price:"515₴",
    cover:"https://shared.fastly.steamstatic.com/store_item_assets/steam/apps/2742830/dd05c7cdc22cd2bac76e8f38562a9736ec084c30/header_alt_assets_3.jpg?t=1770191399"
  },

  DarkestDungeonII:{
    title:"Darkest Dungeon II",
    price:"800₴",
    cover:"https://assets.nintendo.com/image/upload/q_auto/f_auto/store/software/switch/70010000069466/031ec81a27d0f56878a150f28c7d53daa2f0f40080dd3923c7c791036cc55fe1"
  }

};

const params = new URLSearchParams(location.search);
const genre = params.get("genre");

document.getElementById("title").textContent = genre;

const wrap = document.getElementById("games");

const DISCOUNTS =
  JSON.parse(sessionStorage.getItem("gear_discounts")) || {};

Object.entries(GAME_GENRES).forEach(([id, genres])=>{
  if(!genres.includes(genre)) return;

  const g = GAME_DATA[id];
  if(!g) return;

  const card = document.createElement("div");
  card.className = "game-card";
  card.onclick = ()=>location.href=`game.html?id=${id}`;

  const discount = DISCOUNTS[id];
let priceHTML = g.price;

const base = parseInt(g.price);

if (
  discount &&
  !g.price.includes("Безкоштовно") &&
  !isNaN(base)
) {
  const newPrice = Math.round(base * (100 - discount) / 100);

  priceHTML = `
    <span class="old-price">${base}₴</span>
    <span class="new-price">${newPrice}₴</span>
  `;
}

card.innerHTML = `
  <div class="game-img" style="background-image:url('${g.cover}')"></div>

  ${discount ? `<div class="discount-badge">-${discount}%</div>` : ""}

  <div class="game-body">
    <div class="game-title">${g.title}</div>
    <div class="game-price">${priceHTML}</div>
  </div>
`;

wrap.appendChild(card);

});
</script>
</body>

</html>
